import threading
import logging
import time

logging.basicConfig(level=logging.DEBUG,
        format='%(threadName)-10s %(message)s')

def daemon():
    logging.debug("Starting")
    time.sleep(2)
    print "Exit"
    logging.debug("Exiting")

def non_daemon():
    logging.debug("Starting")
    #if keep all code except the below line, daemon keep running
    #time.sleep(3)
    logging.debug("Exiting")

d = threading.Thread(name='daemon',
        target=daemon)
d.setDaemon(True)
d.start()

# If comment below codes, daemon keeps running, else: daemon will exit after 2s
t = threading.Thread(name="non-daemon", 
        target=non_daemon)
t.start()
